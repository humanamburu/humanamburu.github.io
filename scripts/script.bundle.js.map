{"version":3,"sources":["webpack:///webpack/bootstrap d2f02c081b5f6734f5da","webpack:///./project/build/main.js","webpack:///./project/build/Views/Layout.js","webpack:///./project/build/Controller/Search.js","webpack:///./project/build/lib/JQappend.js","webpack:///./project/build/Controller/Loader.js","webpack:///./project/build/Views/Video.js","webpack:///./project/build/Controller/ResizeCalculator.js","webpack:///./project/build/Views/Page.js","webpack:///./project/build/Controller/PageController.js","webpack:///./project/build/Controller/Swipe.js"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,4C;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACpBA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA2B,6BAA6B;AACxD;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,wBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA,wBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;;AAEA,qB;;;;;;AC/CA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;;AAEb;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA,E;;;;;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,E;;;;;;ACXA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;;AAGA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,E;;;;;;ACvEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,E;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA,O;;;;;;AClBA;;AAEA;AACA;AACA;AACA,wBAAuB,kBAAkB;AACzC;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA,cAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAa;AACb,UAAS;AACT;AACA;AACA,E","file":"script.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d2f02c081b5f6734f5da\n **/","var Layout = require('./Views/Layout'),\r\n    Search = require('./Controller/Search'),\r\n    $ = require('./lib/JQappend'),\r\n    Loader = require('./Controller/Loader'),\r\n    Swipe = require('./Controller/Swipe');\r\n\r\nvar loader = new Loader(),\r\n    swipe = new Swipe(loader.loadVideos);\r\n\r\n$('body').append(Layout());\r\nswipe.set();\r\nvar search = new Search(loader.loadVideos);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./project/build/main.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = function Layout() {\r\n    var header = '<header class=\"header\"><div class=\"header-search\"><img class=\"search-icon\" src=\"styles/search.png\" alt=\"search\"><input class=\"search\" type=\"search\"></div></header>',\r\n        main = '<main class=\"main\"><ul class=\"videos\"></ul></main>',\r\n        footer = '<footer class=\"footer\"></footer>';\r\n    return header + main + footer;\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./project/build/Views/Layout.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = function Search(callback) {\r\n    var search = document.querySelector('.search');\r\n    search.addEventListener('keyup',\r\n        function (event) {\r\n            if (event.keyCode === 13) {\r\n                clearLayout();\r\n                callback.call(this, search.value);\r\n            }\r\n        });\r\n    document.querySelector('.search-icon').addEventListener('click', function (event) {\r\n        clearLayout();\r\n        callback.call(this, event, search.value);\r\n    });\r\n}\r\n\r\nfunction clearLayout(argument) {\r\n    var main = document.querySelector('.videos'),\r\n        footer = document.querySelector('.footer');\r\n    main.innerHTML = \"\";\r\n    footer.innerHTML = \"\";\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./project/build/Controller/Search.js\n ** module id = 2\n ** module chunks = 0\n **/","function JQ(selector) {\r\n    this.selector = selector;\r\n    if (this instanceof JQ) {\r\n        return this.set(selector);\r\n    } else {\r\n        return new JQ(selector);\r\n    }\r\n};\r\n\r\nJQ.prototype.elements = [];\r\nJQ.prototype.selector;\r\n\r\nJQ.prototype.set = function (selector) {\r\n    if (typeof selector === 'string') {\r\n        this.elements = document.querySelectorAll(selector);\r\n    } else if (selector instanceof JQ) {\r\n        this.elements = this.elements.concat(selector.elements);\r\n    }\r\n    return this;\r\n};\r\n\r\nJQ.prototype.append = function (content) {\r\n    if (content instanceof JQ) {\r\n        [].forEach.call(this.elements, function (argument) {\r\n            for (var i = 0; i < content.elements.length; i++) {\r\n                argument.appendChild(content.elements[i]);\r\n            }\r\n        });\r\n    }\r\n    if (content instanceof Node) {\r\n        [].forEach.call(this.elements, function (argument) {\r\n            argument.appendChild(content.cloneNode(true));\r\n        });\r\n    }\r\n    if (typeof (content) === \"function\") {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            JQ(this.selector).elements[i].innerHTML += content(i);\r\n        };\r\n    }\r\n    if (typeof content === 'string') {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            JQ(this.selector).elements[i].innerHTML += content;\r\n        };\r\n    }\r\n    return this;\r\n};\r\n\r\nmodule.exports = JQ;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./project/build/lib/JQappend.js\n ** module id = 3\n ** module chunks = 0\n **/","var $ = require('../lib/JQappend'),\r\n    Video = require('../Views/Video'),\r\n    ResizeCalculator = require('../Controller/ResizeCalculator');\r\n\r\nmodule.exports = function Loader() {\r\n    var XHR = XMLHttpRequest,\r\n        resizer = new ResizeCalculator();\r\n\r\n    function loadVideos(query) {\r\n        var xhr = new XHR(),\r\n            mainURL = 'https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=15&q=' + query + '&key=AIzaSyAIQ2HLw1YvSQL7Equ4WPJpJskfbaEN_dg',\r\n            videos,\r\n            calculator = new ResizeCalculator();\r\n\r\n        xhr.open('GET', mainURL, true);\r\n        xhr.send();\r\n\r\n        xhr.onload = function () {\r\n            var statURL;\r\n            videos = JSON.parse(this.responseText)['items'];\r\n            videos.forEach(function (element, i) {\r\n                statURL = 'https://www.googleapis.com/youtube/v3/videos?part=statistics&id=' + element.id.videoId + '&key=AIzaSyAIQ2HLw1YvSQL7Equ4WPJpJskfbaEN_dg';\r\n                var video = {\r\n                    href: 'https://www.youtube.com/watch?v=' + element.id.videoId,\r\n                    hrefTag: element.snippet.title,\r\n                    imgSrc: element.snippet.thumbnails.medium.url,\r\n                    person: element.snippet.channelTitle,\r\n                    date: element.snippet.publishedAt.substring(0, 10),\r\n                    views: 0,\r\n                    text: element.snippet.description\r\n                };\r\n\r\n                var statisticXHR = new XHR();\r\n                statisticXHR.open('GET', statURL, true)\r\n                statisticXHR.send();\r\n\r\n                (function (video, i) {\r\n                    statisticXHR.onload = function () {\r\n                        var statistic = JSON.parse(this.responseText)['items'];\r\n                        video.views = statistic[0].statistics.viewCount;\r\n                        $('.videos').append(Video(video));\r\n                        calculator.calculate(i);\r\n                    }\r\n                }(video, i));\r\n            });\r\n\r\n        }\r\n\r\n        xhr.onerror = function () {\r\n            console.log('Status ' + this.status);\r\n        }\r\n        resizer.set();\r\n    }\r\n\r\n    return {\r\n        loadVideos: loadVideos\r\n    };\r\n\r\n\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./project/build/Controller/Loader.js\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = function Video(obj) {\r\n    var startTag = '<li class=\"video\">',\r\n        link = '<a href=\"' + obj.href + '\" class=\"name\">' + obj.hrefTag + '</a>',\r\n        preview = '<div class=\"video-preview\"><img src=\"' + obj.imgSrc + '\" alt=\"videoPreview\" ondrag=\"return false\" ondragdrop=\"return false\" ondragstart=\"return false\"></div>',\r\n        videoStatistic = '<div class=\"video-statistic\"><ul class=\"video-statistic-list\"><li><div class=\"person-icon\">' + obj.person + '</div></li><li><div class=\"date\"> ' + obj.date + '</div></li><li><div class=\"views\">' + obj.views + '</div></li></ul></div>',\r\n        mobileVideoStatistic = '<div class=\"mobile-video-statistic\"><ul class=\"mobile-video-statistic-list\"><li>' + obj.person + '</li><li>' + obj.date + '</li><li>' + obj.views + '</li></ul></div>',\r\n        description = '<div class=\"video-description\">' + obj.text + '</div>',\r\n        endTag = '</li>';\r\n\r\n    return startTag + link + preview + videoStatistic + mobileVideoStatistic + description + endTag;\r\n\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./project/build/Views/Video.js\n ** module id = 5\n ** module chunks = 0\n **/","var Page = require('../Views/Page'),\r\n    pagesController = require('./PageController'),\r\n    Swipe = require('../Controller/Swipe');\r\n\r\nfunction isInteger(num) {\r\n    return (num ^ 0) === num;\r\n}\r\n\r\n\r\nmodule.exports = function ResizeCalculator() {\r\n\r\n    var pCounter = 0,\r\n        swipe = new Swipe();\r\n\r\n    function pagesCalculate(pCount, length) {\r\n        number = length / pCount;\r\n        if (isInteger(number)) {\r\n            return number;\r\n        } else {\r\n            return parseInt(number.toFixed(0));\r\n        }\r\n    }\r\n\r\n    function calculate(i) {\r\n        var video = document.querySelectorAll('.video'),\r\n            length = video.length,\r\n            videos = document.querySelector('.videos'),\r\n            pages = document.querySelectorAll('.page'),\r\n            page = new Page();\r\n        var active = document.querySelector('.active'),\r\n            pageNumber;\r\n        if (active === null) {\r\n            pageNumber = 0;\r\n        } else {\r\n            pageNumber = active.dataset.number;\r\n        }\r\n\r\n\r\n        if (document.body.clientWidth < 700) {\r\n            videos.style.width = 'calc(100vw * ' + length + ')';\r\n            pCounter = pagesCalculate(1, length);\r\n        } else\r\n        if (document.body.clientWidth < 1050) {\r\n            videos.style.width = 'calc(50vw *' + length + ')';\r\n            pCounter = pagesCalculate(2, length);\r\n        } else\r\n\r\n        if (document.body.clientWidth < 1400) {\r\n            videos.style.width = 'calc(33.3vw *' + length + ')';\r\n            pCounter = pagesCalculate(3, length);\r\n        } else\r\n        if (document.body.clientWidth > 1500) {\r\n            videos.style.width = 'calc(25vw *' + length + ')';\r\n            pCounter = pagesCalculate(4, length);\r\n\r\n        }\r\n        pagesController(page.pageTemplate, pCounter);\r\n        if (pages.length === 1) {\r\n            pages[0].classList.add('active');\r\n            swipe.swipe(0);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return {\r\n        set: function () {\r\n            window.addEventListener('resize', calculate);\r\n        },\r\n        calculate: calculate\r\n    };\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./project/build/Controller/ResizeCalculator.js\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = function Page() {\r\n\r\n    function createPage(number) {\r\n        var template = '<a href=\"#\" class=\"page\" data-number=\"' + number + '\">' + (number + 1) + '</a>';\r\n        return template;\r\n    }\r\n\r\n    return {\r\n        pageTemplate: createPage\r\n    };\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./project/build/Views/Page.js\n ** module id = 7\n ** module chunks = 0\n **/","     var $ = require('../lib/JQappend');\r\n     module.exports = function pagesControler(template, pCounter) {\r\n         var pages = document.querySelectorAll('.page'),\r\n             footer = document.querySelector('.footer'),\r\n             page;\r\n         if (pages.length < pCounter) {\r\n             while (pages.length < pCounter) {\r\n                 $('.footer').append(template(pages.length));\r\n                 pages = document.querySelectorAll('.page');\r\n             }\r\n         } else if (pages.length > pCounter) {\r\n             while (pages.length > pCounter) {\r\n                 page = document.querySelector('.page[data-number=\"' + (pages.length - 1) + '\"]');\r\n                 footer.removeChild(page);\r\n                 pages = document.querySelectorAll('.page');\r\n             }\r\n         }\r\n\r\n     }\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./project/build/Controller/PageController.js\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = function Swipe(callback) {\r\n\r\n    function activatePadge(number) {\r\n        var videos = document.querySelector('.videos'),\r\n            pages = document.querySelectorAll('.page');\r\n        for (var i = 0; i < pages.length; i++) {\r\n            if (i == number) {\r\n                pages[i].classList.add('active');\r\n            } else {\r\n                pages[i].classList.remove('active');\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    function clickHandler(event) {\r\n        var active = document.querySelector('.active'),\r\n            pageNumber;\r\n        if (active === null) {\r\n            pageNumber = 0;\r\n        } else {\r\n            pageNumber = active.dataset.number;\r\n        }\r\n        var videos = document.querySelector('.videos'),\r\n            trans = document.body.clientWidth * pageNumber,\r\n            shiftX;\r\n        if (event.changedTouches === undefined) {\r\n            shiftX = event.pageX;\r\n        } else {\r\n            shiftX = event.changedTouches[0].pageX;\r\n        }\r\n\r\n        videos.style.transition = \"transform 0s\"\r\n\r\n        function clickMoveAt(event) {\r\n            var pageX;\r\n            if (event.changedTouches === undefined) {\r\n                pageX = event.pageX;\r\n            } else {\r\n                pageX = event.changedTouches[0].pageX;\r\n            }\r\n            videos.style.transform = \"translate3D(\" + (-trans + pageX - shiftX) + \"px, 0px, 0px)\";\r\n        }\r\n\r\n        document.addEventListener('mousemove', clickMoveAt);\r\n        document.addEventListener('touchmove', clickMoveAt);\r\n\r\n        function endHandler(event) {\r\n            var active = document.querySelector('.active'),\r\n                pageNumber;\r\n            if (active === null) {\r\n                pageNumber = 0;\r\n            } else {\r\n                pageNumber = active.dataset.number;\r\n            }\r\n            var videos = document.querySelector('.videos'),\r\n                pages = document.querySelectorAll('.page'),\r\n                pageX;\r\n            if (event.changedTouches === undefined) {\r\n                pageX = event.pageX;\r\n            } else {\r\n                pageX = event.changedTouches[0].pageX;\r\n            }\r\n            document.removeEventListener('mousemove', clickMoveAt);\r\n            document.removeEventListener('touchmove', clickMoveAt);\r\n            videos.style.transition = \"transform 0.5s\";\r\n            if (pageX < shiftX && pageNumber != (pages.length - 2)) {\r\n                pageNumber++;\r\n            } else\r\n            if (pageX > shiftX && pageNumber != '0') {\r\n                pageNumber--;\r\n\r\n            } else {\r\n                if (parseInt(pageNumber) === pages.length - 2) {\r\n                    callback.call(this, '');\r\n                    pageNumber++;\r\n                }\r\n\r\n            }\r\n            activatePadge(pageNumber);\r\n            trans = document.body.clientWidth * pageNumber;\r\n            videos.style.transform = \"translate3D(-\" + trans + \"px, 0px, 0px)\";\r\n\r\n            document.removeEventListener('mouseup', endHandler);\r\n            document.removeEventListener('touchend', endHandler);\r\n        }\r\n\r\n        document.addEventListener('mouseup', endHandler);\r\n        document.addEventListener('touchend', endHandler);\r\n\r\n    }\r\n\r\n    function swipe(number) {\r\n        var videos = document.querySelector('.videos');\r\n        activatePadge(number);\r\n        videos.style.transition = \"transform 0.8s\";\r\n        trans = document.body.clientWidth * number;\r\n        videos.style.transform = \"translate3D(-\" + trans + \"px, 0px, 0px)\";\r\n    }\r\n\r\n    return {\r\n        set: function () {\r\n            var active = document.querySelector('.active'),\r\n                pageNumber;\r\n            if (active === null) {\r\n                pageNumber = 0;\r\n            } else {\r\n                pageNumber = active.dataset.number;\r\n            }\r\n            var videos = document.querySelector('.videos');\r\n            activatePadge(pageNumber);\r\n            videos.addEventListener(\"mousedown\", clickHandler, false);\r\n            videos.addEventListener(\"touchstart\", clickHandler, false);\r\n            document.querySelector('.footer').addEventListener('click', function (event) {\r\n                var pages = document.querySelectorAll('.page');\r\n                number = event.target.dataset.number;\r\n                if (number != undefined) {\r\n                    swipe(number);\r\n                    if (parseInt(number) === (pages.length - 1) || parseInt(number) === (pages.length - 2)) {\r\n                        callback.call(this, '');\r\n                    }\r\n                }\r\n            });\r\n            window.addEventListener('resize', function () {\r\n                var active = document.querySelector('.active'),\r\n                    pageNumber;\r\n                if (active === null) {\r\n                    pageNumber = 0;\r\n                } else {\r\n                    pageNumber = active.dataset.number;\r\n                }\r\n                var pages = document.querySelectorAll('.page'),\r\n                    videos = document.querySelector('.videos');\r\n                trans = document.body.clientWidth * pageNumber;\r\n                videos.style.transition = \"transform 0.0s\";\r\n                videos.style.transform = \"translate3D(-\" + trans + \"px, 0px, 0px)\";\r\n                if (active === null) {\r\n                    swipe(pages.length - 1);\r\n                }\r\n\r\n            })\r\n        },\r\n        swipe: swipe\r\n    };\r\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./project/build/Controller/Swipe.js\n ** module id = 9\n ** module chunks = 0\n **/"],"sourceRoot":""}